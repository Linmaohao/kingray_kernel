// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright (c) 2018 Fuzhou Rockchip Electronics Co., Ltd
 */

/dts-v1/;

#include "rk3308b-evb-v10.dtsi"

/ {
	model = "Rockchip RK3308b evb analog mic v10 board";
	compatible = "rockchip,rk3308b-evb-amic-v10", "rockchip,rk3308";

	vad_acodec_sound: vad-acodec-sound {
		status = "okay";
		compatible = "rockchip,multicodecs-card";
		rockchip,card-name = "rockchip,rk3308-vad";
		rockchip,codec-hp-det;
		rockchip,mclk-fs = <256>;
		rockchip,cpu = <&i2s_8ch_2>;
		rockchip,codec = <&acodec>, <&vad>;
	};
};

&acodec {
	rockchip,micbias1;
	rockchip,micbias2;
	rockchip,en-always-grps = <1 2 3>;
	rockchip,adc-grps-route = <1 2 3 0>;
};

&acodec_sound {
	status = "disabled";
};

&bluetooth_sound {
	status = "okay";
};

&i2s_8ch_0 {
//	status = "okay";
	status = "disabled";
	#sound-dai-cells = <0>;
	rockchip,clk-trcm = <1>;
	pinctrl-names = "default";
	pinctrl-0 = <&i2s_8ch_0_sclktx
		     &i2s_8ch_0_lrcktx
		     &i2s_8ch_0_sdi0
		     &i2s_8ch_0_sdo2>;
};

&vad {
	status = "okay";
	rockchip,audio-src = <&i2s_8ch_2>;
	rockchip,det-channel = <0>;
	rockchip,buffer-time-ms = <200>;
	rockchip,mode = <1>;
	#sound-dai-cells = <0>;
};

&emmc {
	status = "okay";
};

&mac {
	status = "okay";
};

&uart2 {
	status = "okay";
};

&spi0 {
        pinctrl-names = "default";
        pinctrl-0 = <&spi0_clk &spi0_csn0 &spi0_miso &spi0_mosi>;
        status = "okay";
        spi-max-frequency = <50000000>;

        st7789v: st7789v@0 {
                compatible = "sitronix,st7789v";
                reg = <0>;
                spi-max-frequency = <50000000>;
                rgb;
                buswidth = <8>;
                rotate = <90>;
                fps = <60>;
                spi-cpol;
                spi-cpha;
                reset-gpios = <&gpio4 RK_PB3 GPIO_ACTIVE_LOW>;
                dc-gpios = <&gpio0 RK_PB0 GPIO_ACTIVE_HIGH>;
                led-gpios = <&gpio0 RK_PC4 GPIO_ACTIVE_HIGH>;
                debug = <1>;
        };
};
